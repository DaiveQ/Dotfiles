timeout 5 
#shutdown_after_timeout
#use_nvram false

#screensaver 300

# options: banner, label, singleuser, safemode, hwtest, arrows, hints, editor, badgest, all
#hideui singleuser
#hideui all

#icons_dir icons/snowy

#banner icons/snowy/banner-snowy.png

#banner_scale fillscreen
#banner_scale noscale
#small_icon_size 96
#big_icon_size 256
#selection_small selection-small.bmp
#selection_big   selection-big.bmp
#font myfont.png

#textonly

resolution 2256 1504

#enable_mouse
#mouse_size 16
#mouse_speed 4 # between 1-34

# options: osx, linux. elilo, grub, windows
use_graphics_for linux,windows

# options: shell, memtest, gptsync, gdisk, apple_recovery, windows_recovery, mok_tool, csr_rotate, install, bootorder, about, hidden_tages, exit, shutdown, reboot, firmware, fwupdate, netboot
#showtools shell, bootorder, gdisk, memtest, mok_tool, apple_recovery, windows_recovery, about, hidden_tags, reboot, exit, firmware, fwupdate
#show tools memtest

#dont_scan_tools ESP2:/EFI/ubuntu/mmx64.efi,gptsync_x64.efi
#windows_recovery_files LRS_ESP:/EFI/Microsoft/Boot/LrsBootmgr.efi
#scan_driver_dirs EFI/tools/drivers,drivers

# options: internal, external, optical, netboot, hdboot, biosexternal, cd, manual
# Default is internal,external,optical,manual
#scanfor internal,external,optical,manual

#uefi_deep_legacy_scan false

#scan_delay 5

#also_scan_dirs boot,ESP2:EFI/linux/kernels

# The default is "LRS_ESP".
dont_scan_volumes 7b6cc5a6-0277-5346-a524-d9bc195841d8
#dont_scan_dirs ESP:/EFI/boot,EFI/Dell,EFI/memtest86
#dont_scan_files shim.efi,MokManager.efi

#scan_all_linux_kernels false
#fold_linux_kernels false
#extra_kernel_version_strings linux-lts,linux

#max_tags 0

#default_selection 1
#default_selection  
#default_selection "+,bzImage,vmlinuz"
#default_selection Maintenance 23:30 2:00
#default_selection "Maintenance,macOS" 1:00 2:30


# override (secondary) file
#include manual.conf

# menu entries
menuentry "Arch Linux" {
    icon     /EFI/refind/themes/refind-dreary/icons/os_arch.png
    volume   7b6cc5a6-0277-5346-a524-d9bc195841d8
    loader   /vmlinuz-linux
    initrd   /initramfs-linux.img
    options  "root=PARTUUID=49e8d321-3ab2-9b4b-9e7b-b4cb6e344235 rw add_efi_memmap initrd=\amd-ucode.img initrd=\intel-ucode.img resume=PARTUUID=49e8d321-3ab2-9b4b-9e7b-b4cb6e344235 resume_offset=59867136 nowatchdog nvme.noacpi=1 mem_sleep_default=deep"
    # nvme.noacpi=1 for framework laptop. Save some battery for unknown reasons (including to framework afaik)
    
    ############################################################################
    # NOTE: Submenu entries for fallback should not contain any "odd" options. #
    ############################################################################
    submenuentry "Boot using fallback initramfs" {
        initrd /initramfs-linux-fallback.img
        options  "root=PARTUUID=49e8d321-3ab2-9b4b-9e7b-b4cb6e344235 rw add_efi_memmap initrd=\amd-ucode.img initrd=\intel-ucode.img"
    }
    submenuentry "Boot using fallback lts kernel" {
        loader /vmlinuz-linux-lts
        initrd /initramfs-linux-lts.img
        options  "root=PARTUUID=49e8d321-3ab2-9b4b-9e7b-b4cb6e344235 rw add_efi_memmap initrd=\amd-ucode.img initrd=\intel-ucode.img"
    }
    submenuentry "Boot using fallback lts kernel and initramfs" {
        loader /vmlinuz-linux-lts
        initrd /initramfs-linux-lts-fallback.img
        options  "root=PARTUUID=49e8d321-3ab2-9b4b-9e7b-b4cb6e344235 rw add_efi_memmap initrd=\amd-ucode.img initrd=\intel-ucode.img"
    }
    submenuentry "Boot to terminal" {
        add_options "systemd.unit=multi-user.target"
        options  "root=PARTUUID=49e8d321-3ab2-9b4b-9e7b-b4cb6e344235 rw add_efi_memmap initrd=\amd-ucode.img initrd=\intel-ucode.img"
    }
    enabled 
}

# external themes
include themes/refind-dreary/theme.conf
#include themes/rEFInd-minimal-black/theme.conf
#include themes/liyue/theme.conf
#include themes/Perseus/theme.conf
#include themes/Catalina/theme.conf
#include themes/dm/theme.conf
